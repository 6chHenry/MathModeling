# 模型灵敏度与误差分析

## 1. 概述

本文档提供了对三个测试组件（Q2鲁棒性测试、Q3参数扰动测试、Q4网格实验）的模型灵敏度和误差分析模板。用户可以根据实际运行结果填充具体数据，完成最终的灵敏度与误差分析报告。

## 2. Q2鲁棒性测试组件灵敏度与误差分析

### 2.1 交叉验证结果分析

#### 2.1.1 稳定性评估
```
交叉验证结果:
RMSE: 1.5788 ± 0.0444
R2: 0.1316 ± 0.0123
MAE: 1.1530 ± 0.0223
```

**稳定性分析**:
- RMSE变异系数: 0.028
- R2变异系数: 0.093
- MAE变异系数: 0.02

**稳定性评估**:
- 均为高稳定性 (CV < 0.1)

#### 2.1.2 误差分析
- 平均预测误差: 1.5788
- 最大预测误差: 1.6232
- 误差分布: 正态分布

### 2.2 特征重要性分析

#### 2.2.1 关键特征识别
```
main_genre_Documentary	0.08541425
main_genre_Music	0.056909095
main_genre_Horror	0.051160026
main_genre_Animation	0.02340657
has_director	0.016866198
```

#### 2.2.2 特征敏感性分析
```
1. runtime: RMSE增加0.1286, R²降低0.1286
2. cast_count: RMSE增加0.0933, R²降低0.0922
3. has_director: RMSE增加0.0680, R²降低0.0666
4. main_genre_Documentary: RMSE增加0.0622, R²降低0.0608
5. production_count: RMSE增加0.0397, R²降低0.0384
```

**特征敏感性等级**:
- 高敏感 (RMSE增加 > 0.1): runtime
- 中等敏感 (0.05 ≤ RMSE增加 ≤ 0.1): cast_count, has_director, main_genre_Documentary
- 低敏感 (RMSE增加 < 0.05): production_count, main_genre_Horror, writers_count, main_genre_Music, is_english, genre_count等

### 2.3 特征扰动分析

#### 2.3.1 扰动敏感性矩阵
```
特征扰动敏感性 (来自Q2/feature_perturbation_results.csv):
特征名称: [扰动0.8的RMSE变化, 扰动0.9的RMSE变化, 扰动1.1的RMSE变化, 扰动1.2的RMSE变化]
runtime: [0.0607, 0.0444, 0.0347, 0.0470]
cast_count: [0.0417, 0.0238, 0.0263, 0.0337]
writers_count: [0.0105, 0.0077, 0.0086, 0.0115]
```

#### 2.3.2 扰动趋势分析
- 线性响应特征: runtime, cast_count, writers_count
- 非线性响应特征: has_director, genre_count, is_action
- 对称响应特征: writers_count, production_count
- 非对称响应特征: runtime, cast_count, has_director



## 3. Q3参数扰动测试组件灵敏度与误差分析

### 3.1 参数扰动结果分析

#### 3.1.1 参数敏感性矩阵
```
参数扰动敏感性 (来自Q3/parameter_perturbation_results.csv):
参数名称: [扰动0.8的总场次变化率, 扰动0.9的总场次变化率, 扰动1.1的总场次变化率, 扰动1.2的总场次变化率]
min_gap: [0.0, 0.0, 0.0, 0.0]
version_caps_3D: [0.0, 0.0, 0.0, 0.0]
version_caps_IMAX: [0.0, 0.0, 0.0, 0.0]
```

#### 3.1.2 参数敏感性等级
- 高敏感参数 (|变化率| > 10%): 无
- 中等敏感参数 (5% ≤ |变化率| ≤ 10%): 无
- 低敏感参数 (|变化率| < 5%): min_gap, version_caps_3D, version_caps_IMAX, genre_caps相关参数


### 3.2 约束边界结果分析

#### 3.2.1 约束违反分析
```
约束边界违反情况 (来自Q3/constraint_boundary_results.csv):
约束名称: [边界0.8的违反次数, 边界1.2的违反次数]
version_total_caps_3D: [0, 0]
version_total_caps_IMAX: [0, 0]
genre_caps_Animation: [1, 0]
genre_caps_Horror: [0, 0]
genre_caps_Action: [1, 0]
```

#### 3.2.2 约束敏感性分析
- 严格约束 (边界减少时违反次数 > 5): 无
- 宽松约束 (边界增加时违反次数 = 0): version_total_caps_3D, version_total_caps_IMAX, genre_caps_Animation, genre_caps_Horror, genre_caps_Action
- 适中约束 (其他情况): 无


### 3.3 噪声重采样结果分析

#### 3.3.1 稳定性评估
```
噪声重采样稳定性 (来自Q3/noise_resampling_results.csv):
总Gap: 均值=337.10, 标准差=156.98, CV=0.466
各指标Gap:
  总场次Gap: 均值=0.00, 标准差=0.00, CV=0.000
  黄金时段Gap: 均值=0.00, 标准差=0.00, CV=0.000
  平均间隔Gap: 均值=10.10, 标准差=9.94, CV=0.984
  版本时长Gap: 均值=327.00, 标准差=153.45, CV=0.469
  题材次数Gap: 均值=0.00, 标准差=0.00, CV=0.000
```

#### 3.3.2 稳定性等级评估
- 高稳定性指标 (CV < 0.1): 总场次Gap, 黄金时段Gap, 题材次数Gap
- 中等稳定性指标 (0.1 ≤ CV < 0.3): 无
- 低稳定性指标 (CV ≥ 0.3): 总Gap, 版本时长Gap, 平均间隔Gap

#### 3.3.3 噪声敏感性分析
- 高噪声敏感指标 (Gap均值 > 3): 版本时长Gap, 总Gap
- 中等噪声敏感指标 (1 ≤ Gap均值 ≤ 3): 平均间隔Gap
- 低噪声敏感指标 (Gap均值 < 1): 总场次Gap, 黄金时段Gap, 题材次数Gap

### 3.4 综合灵敏度分析

#### 3.4.1 最敏感参数识别
```
最敏感参数 (基于Q3/parameter_perturbation_report.json):
min_gap
```

#### 3.4.2 最常违反约束识别
```
最常违反约束 (基于Q3/parameter_perturbation_report.json):
genre_caps_Action
```

#### 3.4.3 系统稳定性评估
```
系统稳定性评估 (基于Q3/parameter_perturbation_report.json):
低稳定性
平均总Gap: 337.1
```


## 7. 数据填充说明

### 7.1 Q2数据来源
- 交叉验证结果: Q2/cross_validation_results.csv
- 特征重要性结果: Q2/feature_importance_results.csv
- 特征消融结果: Q2/feature_ablation_results.csv
- 特征扰动结果: Q2/feature_perturbation_results.csv
- 超参数网格搜索结果: Q2/hyperparameter_grid_search_results.csv
- 综合报告: Q2/robustness_analysis_report.json

### 7.2 Q3数据来源
- 参数扰动结果: Q3/parameter_perturbation_results.csv
- 约束边界结果: Q3/constraint_boundary_results.csv
- 噪声重采样结果: Q3/noise_resampling_results.csv
- 综合报告: Q3/parameter_perturbation_report.json


### 7.4 计算说明
- 变异系数 (CV) = 标准差 / 均值
- 变化率 = (新值 - 原值) / 原值 * 100%
- 弹性评分 = 100 - |利润变化率|
- 提升百分比 = (新值 - 原值) / 原值 * 100%